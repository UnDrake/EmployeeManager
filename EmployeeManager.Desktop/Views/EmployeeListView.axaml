<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:EmployeeManager.Desktop.ViewModels"
             x:Class="EmployeeManager.Desktop.Views.EmployeeListView"
             x:DataType="vm:EmployeeListViewModel">

	<UserControl.DataContext>
		<vm:EmployeeListViewModel/>
	</UserControl.DataContext>

	<StackPanel Background="#5e3a8c" Margin="20">
    <!-- Заголовок -->
    <TextBlock Text="List of employees" FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center"
               Foreground="White" Margin="10"/>

    <!-- 🔹 Фильтры -->
    <StackPanel Orientation="Horizontal" Margin="10" Spacing="10">
        <TextBox Text="{Binding SearchName, Mode=TwoWay}" Watermark="Поиск по ФИО"
                 Width="250" Height="35" Background="#7f58a2" Foreground="White"
                 BorderBrush="White" BorderThickness="1" Padding="10"/>
        <ComboBox ItemsSource="{Binding Positions}" SelectedItem="{Binding SelectedPosition}"
                  Width="180" Height="35" Background="#7f58a2" Foreground="White"
                  BorderBrush="White" BorderThickness="1"/>
        <ComboBox ItemsSource="{Binding Departments}" SelectedItem="{Binding SelectedDepartment}"
                  Width="180" Height="35" Background="#7f58a2" Foreground="White"
                  BorderBrush="White" BorderThickness="1"/>
        <TextBox Text="{Binding MinSalaryText, Mode=TwoWay}" Watermark="Мин. зарплата"
                 Width="180" Height="35" Background="#7f58a2" Foreground="White"
                 BorderBrush="White" BorderThickness="1" Padding="10"/>
    </StackPanel>

    <!-- 🔹 Оставшиеся фильтры в следующем ряду -->
    <StackPanel Orientation="Horizontal" Margin="10" Spacing="10">
        <TextBox Text="{Binding MaxSalary, Mode=TwoWay}" Watermark="Мин. зарплата"
                 Width="180" Height="35" Background="#7f58a2" Foreground="White"
                 BorderBrush="White" BorderThickness="1" Padding="10"/>
    </StackPanel>

    <!-- 🔹 Общая таблица с прокруткой -->
    <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" Height="350" Background="White" Margin="10">
        <StackPanel Background="#5e3a8c">
            <!-- 🔹 Заголовки колонок -->
            <Grid ColumnDefinitions="200,150,140,140,200,180,120,250" Background="#7f58a2">
                <Border BorderBrush="White" BorderThickness="1" Grid.Column="0">
                    <TextBlock Text="ФИО" FontWeight="Bold" TextAlignment="Center" Padding="5" Foreground="White"/>
                </Border>
                <Border BorderBrush="White" BorderThickness="1" Grid.Column="1">
                    <TextBlock Text="Телефон" FontWeight="Bold" TextAlignment="Center" Padding="5" Foreground="White"/>
                </Border>
                <Border BorderBrush="White" BorderThickness="1" Grid.Column="2">
                    <TextBlock Text="Дата рождения" FontWeight="Bold" TextAlignment="Center" Padding="5" Foreground="White"/>
                </Border>
                <Border BorderBrush="White" BorderThickness="1" Grid.Column="3">
                    <TextBlock Text="Дата найма" FontWeight="Bold" TextAlignment="Center" Padding="5" Foreground="White"/>
                </Border>
                <Border BorderBrush="White" BorderThickness="1" Grid.Column="4">
                    <TextBlock Text="Должность" FontWeight="Bold" TextAlignment="Center" Padding="5" Foreground="White"/>
                </Border>
                <Border BorderBrush="White" BorderThickness="1" Grid.Column="5">
                    <TextBlock Text="Отдел" FontWeight="Bold" TextAlignment="Center" Padding="5" Foreground="White"/>
                </Border>
                <Border BorderBrush="White" BorderThickness="1" Grid.Column="6">
                    <TextBlock Text="Оклад" FontWeight="Bold" TextAlignment="Center" Padding="5" Foreground="White"/>
                </Border>
                <Border BorderBrush="White" BorderThickness="1" Grid.Column="7">
                    <TextBlock Text="Адрес" FontWeight="Bold" TextAlignment="Center" Padding="5" Foreground="White"/>
                </Border>
            </Grid>

            <!-- 🔹 Список сотрудников с кастомными стилями -->
            <ListBox ItemsSource="{Binding Employees}" SelectedItem="{Binding SelectedEmployee}" Height="300"
                     BorderThickness="1" BorderBrush="White" Background="#9b7ce0">
                <ListBox.Styles>
                    <Style Selector="ListBoxItem">
                        <Setter Property="Margin" Value="0"/>
                        <Setter Property="Padding" Value="0"/>
                        <Setter Property="Background" Value="Transparent"/>
                    </Style>
                </ListBox.Styles>

                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <Grid ColumnDefinitions="200,150,140,140,200,180,120,250">
                            <Border BorderBrush="White" BorderThickness="1" Grid.Column="0">
                                <TextBlock Text="{Binding FullName}" TextAlignment="Center" Padding="5" Foreground="White"/>
                            </Border>
                            <Border BorderBrush="White" BorderThickness="1" Grid.Column="1">
                                <TextBlock Text="{Binding Phone}" TextAlignment="Center" Padding="5" Foreground="White"/>
                            </Border>
                            <Border BorderBrush="White" BorderThickness="1" Grid.Column="2">
                                <TextBlock Text="{Binding BirthDate, StringFormat='yyyy-MM-dd'}" TextAlignment="Center" Padding="5" Foreground="White"/>
                            </Border>
                            <Border BorderBrush="White" BorderThickness="1" Grid.Column="3">
                                <TextBlock Text="{Binding HireDate, StringFormat='yyyy-MM-dd'}" TextAlignment="Center" Padding="5" Foreground="White"/>
                            </Border>
                            <Border BorderBrush="White" BorderThickness="1" Grid.Column="4">
                                <TextBlock Text="{Binding Position}" TextAlignment="Center" Padding="5" Foreground="White"/>
                            </Border>
                            <Border BorderBrush="White" BorderThickness="1" Grid.Column="5">
                                <TextBlock Text="{Binding Department}" TextAlignment="Center" Padding="5" Foreground="White"/>
                            </Border>
                            <Border BorderBrush="White" BorderThickness="1" Grid.Column="6">
                                <TextBlock Text="{Binding Salary}" TextAlignment="Center" Padding="5" Foreground="White"/>
                            </Border>
                            <Border BorderBrush="White" BorderThickness="1" Grid.Column="7">
                                <TextBlock Text="{Binding Address}" TextAlignment="Center" Padding="5" Foreground="White"/>
                            </Border>
                        </Grid>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </StackPanel>
    </ScrollViewer>

    <!-- 🔹 Управление -->
    <StackPanel Orientation="Horizontal" Margin="10" Spacing="10">
        <Button Content="Добавить" Command="{Binding AddEmployeeCommand}" Width="120" Height="40" Background="#9b7ce0" Foreground="White" BorderBrush="White" BorderThickness="1" Padding="10"/>
        <Button Content="Изменить" Command="{Binding UpdateEmployeeCommand}" Width="120" Height="40" Background="#9b7ce0" Foreground="White" BorderBrush="White" BorderThickness="1" Padding="10"/>
        <Button Content="Удалить" Command="{Binding DeleteEmployeeCommand}" Width="120" Height="40" Background="#9b7ce0" Foreground="White" BorderBrush="White" BorderThickness="1" Padding="10"/>
        <Button Content="Создать отчет" Command="{Binding OpenSalaryReportWindowCommand}" Width="120" Height="40" Background="#9b7ce0" Foreground="White" BorderBrush="White" BorderThickness="1" Padding="10"/>
    </StackPanel>
</StackPanel>

</UserControl>
